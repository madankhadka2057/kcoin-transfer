{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///D:/Gravity/frontend/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport CredentialsProvider from \"next-auth/providers/credentials\";\r\nimport axios from \"axios\";\r\n\r\nconst handler = NextAuth({\r\n    providers: [\r\n        CredentialsProvider({\r\n            name: \"Credentials\",\r\n            credentials: {\r\n                email: { label: \"Email\", type: \"email\" },\r\n                password: { label: \"Password\", type: \"password\" },\r\n            },\r\n            async authorize(credentials) {\r\n                try {\r\n                    const res = await axios.post(\"http://localhost:3001/api/auth/login\", {\r\n                        email: credentials?.email,\r\n                        password: credentials?.password,\r\n                    });\r\n\r\n                    const user = res.data.user;\r\n                    const token = res.data.token;\r\n\r\n                    if (user && token) {\r\n                        return { ...user, apiToken: token };\r\n                    }\r\n                    return null;\r\n                } catch (e) {\r\n                    return null;\r\n                }\r\n            },\r\n        }),\r\n    ],\r\n    callbacks: {\r\n        async jwt({ token, user }) {\r\n            if (user) {\r\n                token.apiToken = (user as any).apiToken;\r\n                token.id = user.id;\r\n                token.walletAddress = (user as any).walletAddress;\r\n            }\r\n            return token;\r\n        },\r\n        async session({ session, token }) {\r\n            (session as any).apiToken = token.apiToken;\r\n            (session as any).user.id = token.id;\r\n            (session as any).user.walletAddress = token.walletAddress;\r\n            return session;\r\n        },\r\n    },\r\n    pages: {\r\n        signIn: \"/\",\r\n    },\r\n});\r\n\r\nexport { handler as GET, handler as POST };\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,UAAU,IAAA,kJAAQ,EAAC;IACrB,WAAW;QACP,IAAA,qKAAmB,EAAC;YAChB,MAAM;YACN,aAAa;gBACT,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YACpD;YACA,MAAM,WAAU,WAAW;gBACvB,IAAI;oBACA,MAAM,MAAM,MAAM,kJAAK,CAAC,IAAI,CAAC,wCAAwC;wBACjE,OAAO,aAAa;wBACpB,UAAU,aAAa;oBAC3B;oBAEA,MAAM,OAAO,IAAI,IAAI,CAAC,IAAI;oBAC1B,MAAM,QAAQ,IAAI,IAAI,CAAC,KAAK;oBAE5B,IAAI,QAAQ,OAAO;wBACf,OAAO;4BAAE,GAAG,IAAI;4BAAE,UAAU;wBAAM;oBACtC;oBACA,OAAO;gBACX,EAAE,OAAO,GAAG;oBACR,OAAO;gBACX;YACJ;QACJ;KACH;IACD,WAAW;QACP,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACrB,IAAI,MAAM;gBACN,MAAM,QAAQ,GAAG,AAAC,KAAa,QAAQ;gBACvC,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,aAAa,GAAG,AAAC,KAAa,aAAa;YACrD;YACA,OAAO;QACX;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC3B,QAAgB,QAAQ,GAAG,MAAM,QAAQ;YACzC,QAAgB,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAClC,QAAgB,IAAI,CAAC,aAAa,GAAG,MAAM,aAAa;YACzD,OAAO;QACX;IACJ;IACA,OAAO;QACH,QAAQ;IACZ;AACJ"}}]
}