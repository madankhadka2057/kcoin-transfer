{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/Gravity/frontend/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { getSession } from 'next-auth/react';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3001/api',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\napi.interceptors.request.use(async (config) => {\r\n    const session = await getSession();\r\n    // @ts-ignore\r\n    const token = session?.apiToken;\r\n\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport const register = async (email: string, password: string) => {\r\n    const response = await api.post('/auth/register', { email, password });\r\n    return response.data;\r\n};\r\n\r\nexport const login = async (email: string, password: string) => {\r\n    const response = await api.post('/auth/login', { email, password });\r\n    return response.data;\r\n};\r\n\r\nexport const logout = () => {\r\n    // NextAuth handles logout, but we might want to clear local state if any\r\n};\r\n\r\nexport const getWallet = async () => {\r\n    const response = await api.get('/wallet');\r\n    return response.data;\r\n};\r\n\r\nexport const createTransaction = async (recipientAddress: string, amount: number) => {\r\n    const response = await api.post('/transactions', { recipientAddress, amount });\r\n    return response.data;\r\n};\r\n\r\nexport const getPendingTransactions = async () => {\r\n    const response = await api.get('/transactions/pending');\r\n    return response.data;\r\n};\r\n\r\nexport const mineBlock = async () => {\r\n    const response = await api.post('/mine');\r\n    return response.data;\r\n};\r\n\r\nexport const getChain = async () => {\r\n    const response = await api.get('/chain');\r\n    return response.data;\r\n};\r\n\r\nexport { api };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IAChC,MAAM,UAAU,MAAM,IAAA,4JAAU;IAChC,aAAa;IACb,MAAM,QAAQ,SAAS;IAEvB,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;AAEO,MAAM,WAAW,OAAO,OAAe;IAC1C,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,kBAAkB;QAAE;QAAO;IAAS;IACpE,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,QAAQ,OAAO,OAAe;IACvC,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,eAAe;QAAE;QAAO;IAAS;IACjE,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,SAAS;AAClB,yEAAyE;AAC7E;AAEO,MAAM,YAAY;IACrB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,oBAAoB,OAAO,kBAA0B;IAC9D,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,iBAAiB;QAAE;QAAkB;IAAO;IAC5E,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,yBAAyB;IAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,YAAY;IACrB,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC;IAChC,OAAO,SAAS,IAAI;AACxB;AAEO,MAAM,WAAW;IACpB,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;IAC/B,OAAO,SAAS,IAAI;AACxB"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///D:/Gravity/frontend/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { register } from '@/services/api';\r\nimport { Eye, EyeOff, Lock, Mail, ArrowRight, Loader2 } from 'lucide-react';\r\nimport { signIn } from 'next-auth/react';\r\n\r\nexport default function AuthPage() {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (isLogin) {\r\n        const result = await signIn('credentials', {\r\n          email,\r\n          password,\r\n          redirect: false,\r\n        });\r\n\r\n        if (result?.error) {\r\n          setError('Invalid credentials');\r\n        } else {\r\n          router.push('/dashboard');\r\n        }\r\n      } else {\r\n        await register(email, password);\r\n        // Auto login after register\r\n        const result = await signIn('credentials', {\r\n          email,\r\n          password,\r\n          redirect: false,\r\n        });\r\n        if (result?.ok) {\r\n             router.push('/dashboard');\r\n        }\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.error || 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-900 flex items-center justify-center p-4\">\r\n      <div className=\"bg-slate-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-700\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-white mb-2\">KCoin Ecosystem</h1>\r\n          <p className=\"text-slate-400\">\r\n            {isLogin ? 'Welcome back, miner!' : 'Start your crypto journey'}\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium text-slate-300\">Email</label>\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-5 h-5\" />\r\n              <input\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full bg-slate-900 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all\"\r\n                placeholder=\"miner@kcoin.com\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium text-slate-300\">Password</label>\r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-5 h-5\" />\r\n              <input\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                className=\"w-full bg-slate-900 border border-slate-700 rounded-lg py-3 pl-10 pr-4 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all\"\r\n                placeholder=\"••••••••\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {loading ? (\r\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n            ) : (\r\n              <>\r\n                {isLogin ? 'Sign In' : 'Create Account'}\r\n                <ArrowRight className=\"w-5 h-5\" />\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <button\r\n            onClick={() => setIsLogin(!isLogin)}\r\n            className=\"text-slate-400 hover:text-white text-sm transition-colors\"\r\n          >\r\n            {isLogin\r\n              ? \"Don't have an account? Create one\"\r\n              : 'Already have an account? Sign in'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,IAAI,SAAS;gBACX,MAAM,SAAS,MAAM,IAAA,wJAAM,EAAC,eAAe;oBACzC;oBACA;oBACA,UAAU;gBACZ;gBAEA,IAAI,QAAQ,OAAO;oBACjB,SAAS;gBACX,OAAO;oBACL,OAAO,IAAI,CAAC;gBACd;YACF,OAAO;gBACL,MAAM,IAAA,2HAAQ,EAAC,OAAO;gBACtB,4BAA4B;gBAC5B,MAAM,SAAS,MAAM,IAAA,wJAAM,EAAC,eAAe;oBACzC;oBACA;oBACA,UAAU;gBACZ;gBACA,IAAI,QAAQ,IAAI;oBACX,OAAO,IAAI,CAAC;gBACjB;YACF;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,QAAQ,EAAE,MAAM,SAAS;QACxC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAqC;;;;;;sCACnD,8OAAC;4BAAE,WAAU;sCACV,UAAU,yBAAyB;;;;;;;;;;;;8BAIxC,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAAqC;;;;;;8CACtD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0MAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;sCAKd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAAqC;;;;;;8CACtD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0MAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;4CACZ,QAAQ;;;;;;;;;;;;;;;;;;wBAKb,uBACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,wBACC,8OAAC,4NAAO;gCAAC,WAAU;;;;;qDAEnB;;oCACG,UAAU,YAAY;kDACvB,8OAAC,gOAAU;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;8BAM9B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,SAAS,IAAM,WAAW,CAAC;wBAC3B,WAAU;kCAET,UACG,sCACA;;;;;;;;;;;;;;;;;;;;;;AAMhB"}}]
}